<h2 id="doc">Documentation</h2>

<div class="span3 pull-right">
<aside id="jq_helpbox">
  <h2>Useful links on jQuery API documentation</h2>
  <ul class="menu">
        <li><a href="http://api.jquery.com/show/">jQuery.show()</a></li>
        <li><a href="http://api.jquery.com/hide/">jQuery.hide()</a></li>
        <li><a href="http://api.jquery.com/bind/">jQuery.bind()</a></li>
        <li><a href="http://api.jquery.com/data/">jQuery.data()</a></li>
        <li><a href="http://api.jquery.com/category/events/event-object/">jQuery.Event()</a></li>
  </ul>
  <h2>Search in jQuery API documentation</h2>
  <form action="http://api.jquery.com/" method="get">
    <div class="input-append">
        <input class="input-small" id="appendedInputButtons" type="text" name="s" value="" placeholder="Type your search" title="Type your search and press enter">
        <button class="btn" type="submit">Search</button>
    </div>

  </form>
</aside>  
</div>

<h3 id="createinstance">Creating an instance</h3>

<p>Full usage review of the <var>$.fn.accesskey</var> function:</p>

<pre class="code">
$( jQuery selector ).accesskey();

$( jQuery selector ).accesskey( {options} );

$( jQuery selector ).accesskey( method [, {options}] );
</pre>

<p>All arguments are optional. When the first one is an object, it's considered as a set of options to extend the default settings of the plugin. See <a href="#options">"options" section</a>, the <a href="#tooltips">specific "tooltips" section</a> and the <a href="#callbacks">"callbacks" section</a> of this documentation for more infos.
You can also access a public method of the plugin writing it's name as first parameter. In this case, you can set some options as second parameter. See <a href="#methods">"methods" section</a> for more infos.</p>

<p>It is important to understand that the <var>accesskey</var> function works on a set of jQuery selected elements. For example, you can't write directly <var>$.accesskey(options)</var> because the plugin will work on nothing.
You have to write something like <var>$('.a-class-of-objects').accesskey(options)</var> to initiate the plugin on a collection of jQuery elements (<em>a set of DOM selections</em>).</p>

<p>Knowing that, the simpliest usage of the plugin, in a page where all accesskeys are defined in the HTML code (<em>using the <var>accesskey</var> attribute of tags</em>) should be something like the following, which will select all DOM elements containing an <var>accesskey</var> attribute and pass them to the <var>accesskey()</var> plugin:</p>
<pre class="code">
$('[accesskey]').accesskey();
</pre>

<p>It returns a jQuery object collection, for chainability:</p>

<pre class="code">
$( 'my jQuery selector' ).accesskey().bind( 'my event' );
</pre>

<p>Contrary to what had been said, some global methods, concerning the plugin itself and not a jQuery selection, can be accessed directly writing:</p>
<pre class="code">
$.fn.accesskey.method();
</pre>
<p>See <a href="#handlers">"global handlers" section</a> of this documentation for more infos.</p>

<h3 id="manip">Elements manipulation</h3>

<p>The plugin works on each element of the jQuery selection rebuilding it to record in the HTML tag the required infos. These data are recorded using the HTML5 feature <var>data-...</var> constructing each element like:</p>

<pre class="code" data-language="html">
&lt;a id="..." class="..." href="..."
    accesskey="" title=""
    data-accesskey="X" data-accesskeyhelper="[X] My help text"&gt;
        ...
&lt;/a&gt;
</pre>

<p>In this example, the <var>id</var> and <var>class</var> attributes are not modified ; the <var>accesskey</var> is empty to avoid its classic behavior ; and the <var>title</var> attribute is left unmodified if a text is defined as an instance option, otherwise, as the title will be used to build the tooltip's help message, it is removed from the original element.
The two attributes <var>data-accesskey</var> and <var>data-accesskeyhelper</var> are created to store the single letter accesskey and the full help message.</p>

<p>As they are added to the element in the HTML document, you can access these attributes like you do for others, and eventually modify them at runtime.</p>

<h3 id="options">Options</h3>

<p>The plugin propose a set of options you can overwrite to your convenience. To set one of these options globally for any future plugin usage, write:</p>

<pre class="code">
$.fn.accesskey.defaults.optionName = value;
</pre>

<p>To set one of these options for a selected collection of jQuery objects, write:</p>

<pre class="code">
$('selection').accesskey( { optionName: value } );
</pre>

<p>To retrieve the value of an option for a plugin's instance, you can use:</p>

<pre class="code">
var myAK = $('selection').accesskey( { optionName: value } );

var option_value = myAK.accesskey('getOption', 'optionName');
</pre>

<p>Here is the list of the plugin options, with their default values:</p>

<table class="table tablesorter table-striped table-bordered table-hover">
    <thead><tr>
        <th>Option name</th>
        <th>Default value</th>
        <th>Type</th>
        <th>Option action</th>
    </tr></thead>
    <tbody>

    <tr>
        <td class="var"><var>accesskey</var></td>
        <td class="val">null</td>
        <td class="val">string</td>
        <td>The accesskey to set for the element (one single character in <var>[A-Z0-9]</var> - alpha-numeric non-special uppercase characters)</td>
    </tr>

    <tr>
        <td class="var"><var>text</var></td>
        <td class="val">null</td>
        <td class="val">string</td>
        <td>The helper text to show in the element tooltip (the <var>title</var> attribute will be used by default)</td>
    </tr>

    <tr>
        <td class="var"><var>useTitle</var></td>
        <td class="val">true</td>
        <td class="val">bool</td>
        <td>Use the title as default tooltip message</td>
    </tr>

    <tr>
        <td class="var"><var>propagateOnce</var></td>
        <td class="val">false</td>
        <td class="val">bool</td>
        <td>Force the element action to propagate just once</td>
    </tr>

    <tr>
        <td class="var"><var>altKey</var></td>
        <td class="val">true</td>
        <td class="val">bool</td>
        <td>Is the "Alt" key required for accesskeys action?</td>
    </tr>

    <tr>
        <td class="var"><var>ctrlKey</var></td>
        <td class="val">true</td>
        <td class="val">bool</td>
        <td>Is the "Ctrl" key required for accesskeys action?</td>
    </tr>

    <tr>
        <td class="var"><var>helpKey</var></td>
        <td class="val">H</td>
        <td class="val">null / char</td>
        <td>Key character to activate the HELP tool of the plugin, showing all elements tooltips at once. Set on empty string to use only "Ctrl+Alt" ; set on NULL to deactivate this feature ; this key must follow the same rules as the "accesskey" option.</td>
    </tr>

    <tr>
        <td class="var"><var>showHelp</var></td>
        <td class="val">false</td>
        <td class="val">bool</td>
        <td>Use the HELP message indicating how to use access-keys</td>
    </tr>

    <tr>
        <td class="var"><var>helpText</var></td>
        <td class="val"><small>
Access-Keys Information
<br />
Keyboard shortcuts are defined to access some of the page elements or actions.
<br />
Press "%s[key]" to activate the element with this accesskey.
        </small></td>
        <td class="val">string</td>
        <td>The global helper text to show when the "help" key shortcut is used. Any <var>%s</var> in this value will be replaced by the plugin activation keys suite (<em>"Ctrl+Alt+" by default</em>).</td>
    </tr>

    <tr>
        <td class="var"><var>prefix</var></td>
        <td class="val">[%s]</td>
        <td class="val">string</td>
        <td>The string prefix used at the beginning at the help tooltip's text. Any <var>%s</var> in this value will be replaced by the element accesskey letter.</td>
    </tr>

    <tr>
        <td class="var"><var>safeHTML</var></td>
        <td class="val">false</td>
        <td class="val">bool</td>
        <td>Set to true to force the default HTML accesskey feature <span class="note">By default, the <var>accesskey</var> attribute is removed in each element and added as an HTML5 <var>data-accesskey</var> attribute ; this way, the plugin can control each element key-pressed action, handle multiple calls (<em>with the "propagateOnce" option</em>) and totally disables the accesskeys actions if required. See <a href="#manip">the elements manipulation</a> section of this page for more infos.</span></td>
    </tr>

    <tr>
        <td class="var"><var>noDuplicates</var></td>
        <td class="val">false</td>
        <td class="val">bool</td>
        <td>Set to true to throw an error on duplicate key usage (<em>when the same key is used more than once in DOM</em>)</td>
    </tr>

    <tr>
        <td class="var"><var>showOptions</var></td>
        <td class="val">null</td>
        <td class="val">misc</td>
        <td>
            A set of options or an option string passed to the <var>jQuery.show()</var> function when showing a tooltip, or a specific user defined callback.
            <br />For more infos, see <a href="http://api.jquery.com/show/">$().show()</a> or, if you use the jQuery UI native Tooltips, <a href="http://api.jqueryui.com/position/">$.ui.position()</a>.
        </td>
    </tr>

    <tr>
        <td class="var"><var>hideOptions</var></td>
        <td class="val">null</td>
        <td class="val">misc</td>
        <td>
            A set of options or an option string passed to the <var>jQuery.hide()</var> function when hiding a tooltip, or a specific user defined callback.
            <br />For more infos, see <a href="http://api.jquery.com/hide/">$().hide()</a> or, if you use the jQuery UI native Tooltips, <a href="http://api.jqueryui.com/position/">$.ui.position()</a>.
        </td>
    </tr>

    <tr>
        <td class="var"><var>showEvents</var></td>
        <td class="val">mouseover</td>
        <td class="val">event type list separated by space</td>
        <td>
            A list of events toggling the <var>showTooltip()</var> action (<em>in addition to the keydown</em>).
            <br />For more infos, see <a href="http://api.jquery.com/bind/">$().bind()</a>.
        </td>
    </tr>

    <tr>
        <td class="var"><var>hideEvents</var></td>
        <td class="val">mouseout</td>
        <td class="val">event type list separated by space</td>
        <td>
            A list of events toggling the <var>hideTooltip()</var> action (<em>in addition to the keyup</em>).
            <br />For more infos, see <a href="http://api.jquery.com/bind/">$().bind()</a>.
        </td>
    </tr>

    <tr>
        <td class="var"><var>onClick</var></td>
        <td class="val">
            <var>"follow_href"</var> for elements with an "href" attribute
            <br />
            <var>"select"</var> for form elements
            <br />
            <var>"submit"</var> for buttons
            <br />
            <var>"focus"</var> for the rest
        </td>
        <td class="val">string / null</td>
        <td>A special method to execute on element action (<em>such as an href following for links, which is the default behavior</em>).</td>
    </tr>

    <tr>
        <td class="var"><var>timeout</var></td>
        <td class="val">3000</td>
        <td class="val">numeric (in milliseconds)</td>
        <td>The value of the timeout before hiding tooltips.</td>
    </tr>

    <tr>
        <td class="var"><var>debug</var></td>
        <td class="val">false</td>
        <td class="val">bool</td>
        <td>Activate the plugin debug : write some infos in console</td>
    </tr>

    </tbody>
</table>

<h3 id="tooltips">Plugin's tooltips</h3>

<p>The plugin defines its own tooltip display object, constructed as:</p>

<pre class="code" data-language="html">
&lt;div class="accesskey-tooltip" role="tooltip"&gt;
    &lt;span class="accesskey-tooltip-content"&gt;
        The helper text of my object
    &lt;/span&gt;
&lt;/div&gt;
</pre>

<p>which is rendered in page as:</p>

<div class="accesskey-tooltip" style="position: relative !important; width: auto;">
    <span class="accesskey-tooltip-content">
        The helper text of my object
    </span>
</div>
<br class="clear" />

<p>You can style these tooltips overwriting the CSS definitions of the file <var>jquery-accesskey.css</var>.</p>

<p>Additionally to the options described above, you can specify the following options for the tooltips' construction:</p>

<pre class="code">
    $.fn.accesskey.defaults.tooltip = {
        // tooltip wrapper settings
        wrapper: {
            element:    'div',
            attributes: {
                class:  'accesskey-tooltip',
                role:   'tooltip'
            },
        },
        // tooltip content settings
        content: {
            element:    'span',
            attributes: {
                class:  'accesskey-tooltip-content',
            },
        },
        // special wrapper class for the HELP tooltip
        helperClass:    'accesskey-tooltip-helper'
    };
</pre>

<h3 id="callbacks">Callbacks</h3>

<p>The default life-cycle of the plugin could be schematize like that:</p>

<ul>
    <li>1. at each first call of the plugin, an element or a collection of elements is <var>initialized</var>,</li>
    <li>2. on a keypress event, the corresponding <var>keydownAction</var> method is toggled and the tooltip message is shown, with a specific life-cycle like:<ul>
        <li>2.a. the tooltip is first <var>created</var> if it dosen't exist,</li>
        <li>2.b. the created tooltip is <var>shown</var>, displayed on screen,</li>
    </ul></li>
    <li>3. on a keyup event (<em>when user release the key</em>), the corresponding <var>keyupAction</var> method is toggled and the tooltip message is hidden, with a specific life-cycle like:<ul>
        <li>3.a. after the <var>timeout</var> defined in the options, the tooltip is <var>hidden</var>, removed from screen,</li>
        <li>3.b. then it is <var>deleted</var> from the HTML,</li>
    </ul></li>
    <li>4. if you call the <var>destroy</var> method on an element, everything goes back as it was written initially in your HTML code.</li>
</ul>

<p>To define a callback, use:</p>

<pre class="code">
$('selection').accesskey({
    onShow: function( $element ){
        // write an info on console
        console.debug('"onShow" user defined callback receiving args ', arguments);
    }
});
</pre>

<p>Here is the list of the callbacks automatically called during the life-cycle of the plugin:</p>

<table class="table tablesorter table-striped table-bordered table-hover">
    <thead><tr>
        <th>Callback name</th>
        <th>Type</th>
        <th>Parameters</th>
        <th>Callback life cycle</th>
    </tr></thead>
    <tbody>

    <tr>
        <td class="var"><var>onInit</var></td>
        <td class="val">function( $elements )</td>
        <td><var>$elements</var> : a jQuery object of the selected elements</td>
        <td>Called after plugin initialization.</td>
    </tr>

    <tr>
        <td class="var"><var>onDestroy</var></td>
        <td class="val">function( $elements )</td>
        <td><var>$elements</var> : a jQuery object of the selected elements</td>
        <td>Called after destruction of an initialized instance.</td>
    </tr>

    <tr>
        <td class="var"><var>onCreate</var></td>
        <td class="val">function( $element )</td>
        <td><var>$element</var> : a single jQuery object representing the active element</td>
        <td>Called after a tooltip element creation.</td>
    </tr>

    <tr>
        <td class="var"><var>onDelete</var></td>
        <td class="val">function( $element )</td>
        <td><var>$element</var> : a single jQuery object representing the active element</td>
        <td>Called after a tooltip element deletion.</td>
    </tr>

    <tr>
        <td class="var"><var>onShow</var></td>
        <td class="val">function( $element )</td>
        <td><var>$element</var> : a single jQuery object representing the active element</td>
        <td>Called after a tooltip element is shown.</td>
    </tr>

    <tr>
        <td class="var"><var>onHide</var></td>
        <td class="val">function( $element )</td>
        <td><var>$element</var> : a single jQuery object representing the active element</td>
        <td>Called after a tooltip element is hidden.</td>
    </tr>

    </tbody>
</table>

<h3 id="methods">Methods</h3>

<p>You can access plugin's methods on a selection writing:</p>

<pre class="code">
$('selection').accesskey( "method name" , arg, uments, ... );
</pre>

<p>Here is the list of the methods of the plugin:</p>

<table class="table tablesorter table-striped table-bordered table-hover">
    <thead><tr>
        <th>Method name</th>
        <th>Type</th>
        <th>Parameters</th>
        <th>Return / Action</th>
    </tr></thead>
    <tbody>

    <tr>
        <td class="var"><var>getData</var></td>
        <td class="val">function()</td>
        <td></td>
        <td>Returns an object of the "accesskey" data of an element as they are handled by <var>$.data()</var>. For more infos, see <a href="http://api.jquery.com/data/">$().data()</a>.</td>
    </tr>

    <tr>
        <td class="var"><var>getOption</var></td>
        <td class="val">function( option_name )</td>
        <td><var>option_name</var> : the name of the option te get</td>
        <td>Returns the current value of the option for the selection.</td>
    </tr>

    <tr>
        <td class="var"><var>showAll</var></td>
        <td class="val">function( {options} )</td>
        <td><var>options</var> : a set of options that would be valid during this call only</td>
        <td>Show all tooltips of instance on screen.</td>
    </tr>

    <tr>
        <td class="var"><var>hideAll</var></td>
        <td class="val">function( {options} )</td>
        <td><var>options</var> : a set of options that would be valid during this call only</td>
        <td>Hide all tooltips of instance from screen.</td>
    </tr>

    <tr>
        <td class="var"><var>toggleAll</var></td>
        <td class="val">function( {options} )</td>
        <td><var>options</var> : a set of options that would be valid during this call only</td>
        <td>Toggle all tooltips (show or hide) of instance.</td>
    </tr>

    </tbody>
</table>

<h3 id="internalmethods">Internal methods</h3>

<p>In the same idea as callbacks of the section above, you can overwrite some of the internal plugin methods managing the events handling and the tooltips life. <strong>Defining these functions yourself, be aware that they are necessary to the normal life of the plugin as they handle the tooltip creation and display!</strong></p>

<p>Here is the list of the methods automatically called during the life-cycle of the plugin:</p>

<table class="table tablesorter table-striped table-bordered table-hover">
    <thead><tr>
        <th>Variable name</th>
        <th>Calling method</th>
        <th>Parameters</th>
        <th>Method action</th>
    </tr></thead>
    <tbody>

    <tr>
        <td class="var"><var>keydownAction</var></td>
        <td class="val">function( event, $element )</td>
        <td>
            <var>event</var> : the jQuery event as it was received, for more infos, see <a href="http://api.jquery.com/category/events/event-object/">$.Event()</a>.
            <br />
            <var>$element</var> : a single jQuery object representing the active element
        </td>
        <td>Method called on the <var>keydown</var> event on the key of an element <span class="note" data-noteref="events">The default behavior of the <var>keydown/keyup</var> events are set to emulate a classic usage of accesskeys : the target element is "clicked" and "focused".</span></td>
    </tr>

    <tr>
        <td class="var"><var>keyupAction</var></td>
        <td class="val">function( event, $element )</td>
        <td>
            <var>event</var> : the jQuery event as it was received, for more infos, see <a href="http://api.jquery.com/category/events/event-object/">$.Event()</a>.
            <br />
            <var>$element</var> : a single jQuery object representing the active element
        </td>
        <td>Method called on the <var>keyup</var> event on the key of an element <span class="note" data-noteref="events"></span></td>
    </tr>

    <tr>
        <td class="var"><var>createTooltip</var></td>
        <td class="val">function( $element, {options} )</td>
        <td>
            <var>element</var> : the target DOM element (a jQuery object)
            <br />
            <var>options</var> : a set of options that will extend the element options for now and in the future <span class="note" data-noteref="global_opts">Keep in mind that if you set some options calling one of these methods, they will overwrite the original options you set at the <var>$().accesskey()</var> call for now and for any future usage.</span>
        </td>
        <td>Method called at each tooltip creation ; default is the creation of internal tooltip <span class="note" data-noteref="overwrite">These methods can be overwritten for example when you want to use the <a href="http://jqueryui.com/tooltip/"><em>jQuery UI Tooltips</em></a> instead of the internal ones ; see <a href="jquery_ui.html">this example page</a> for more infos.</span></td>
    </tr>

    <tr>
        <td class="var"><var>showTooltip</var></td>
        <td class="val">function( $element, {options} )</td>
        <td>
            <var>element</var> : the target DOM element (a jQuery object)
            <br />
            <var>options</var> : a set of options that will extend the element options for now and in the future <span class="note" data-noteref="global_opts"></span>
        </td>
        <td>Method called at each tooltip displaying ; default is showing the internal tooltip <span class="note" data-noteref="overwrite"></span></td>
    </tr>

    <tr>
        <td class="var"><var>hideTooltip</var></td>
        <td class="val">function( $element, {options} )</td>
        <td>
            <var>element</var> : the target DOM element (a jQuery object)
            <br />
            <var>options</var> : a set of options that will extend the element options for now and in the future <span class="note" data-noteref="global_opts"></span>
        </td>
        <td>Method called at each tooltip hiding ; default is hiding the internal tooltip <span class="note" data-noteref="overwrite"></span></td>
    </tr>

    <tr>
        <td class="var"><var>deleteTooltip</var></td>
        <td class="val">function( $element, {options} )</td>
        <td>
            <var>element</var> : the target DOM element (a jQuery object)
            <br />
            <var>options</var> : a set of options that will extend the element options for now and in the future <span class="note" data-noteref="global_opts"></span>
        </td>
        <td>Method called at each tooltip deletion ; default is deleting the internal tooltip <span class="note" data-noteref="overwrite"></span></td>
    </tr>

    </tbody>
</table>

<h3 id="handlers">Global handlers</h3>

<p>The plugin propose a set of global methods to handle one/all accesskey element and manage the plugin's action. To call one of these methods, write:</p>

<pre class="code">
var myvar = $.fn.accesskey.methodName( arguments );
</pre>

<table class="table tablesorter table-striped table-bordered table-hover">
    <thead><tr>
        <th>Method name</th>
        <th>Calling method</th>
        <th>Method action</th>
    </tr></thead>
    <tbody>

    <tr>
        <td class="var"><var>enable</var></td>
        <td class="val">function()</td>
        <td>Enables the plugin features (enabled by default).</td>
    </tr>

    <tr>
        <td class="var"><var>disable</var></td>
        <td class="val">function()</td>
        <td>Disbles the plugin features (enabled by default).</td>
    </tr>

    <tr>
        <td class="var"><var>isEnable</var></td>
        <td class="val">function()</td>
        <td>Returns <var>true</var> if the plugin is currently enabled.</td>
    </tr>

    <tr>
        <td class="var"><var>showAll</var></td>
        <td class="val">function( {options} )</td>
        <td>Show all tooltips on screen ; you can specify a set of options that would be valid during this call only.</td>
    </tr>

    <tr>
        <td class="var"><var>hideAll</var></td>
        <td class="val">function( {options} )</td>
        <td>Hide all tooltips from screen ; you can specify a set of options that would be valid during this call only.</td>
    </tr>

    <tr>
        <td class="var"><var>toggleAll</var></td>
        <td class="val">function( {options} )</td>
        <td>Toggle all tooltips (show or hide) ; you can specify a set of options that would be valid during this call only.</td>
    </tr>

    <tr>
        <td class="var"><var>overview</var></td>
        <td class="val">function()</td>
        <td>This method returns an object containing all active elements of the DOM, in an array-like object <var>key => message</var>.</td>
    </tr>

    </tbody>
</table>

<h3 id="community">Open-Source & Community</h3>

<p>This plugin is a free software, available under <a href="http://opensource.org/licenses/GPL-3.0" title="See online">General Public License version 3.0</a> ; you can freely use it, for yourself or a commercial use, modify its source code according to your needs, freely distribute your work and propose it to the community, as long as you let an information about its first author.</p>

<p>As the sources are hosted on a <a href="http://git-scm.com/" title="See online">GIT</a> repository on <a href="https://github.com/PieroWbmstr/jQuery-AccessKey" title="See online">GitHub</a>, you can modify it, to ameliorate a feature or correct an error, by <a href="https://help.github.com/articles/fork-a-repo" title="See instructions online">creating your own fork</a> of this repository, modifying it and <a href="https://github.com/PieroWbmstr/jQuery-AccessKey/pulls" title="See instructions online">asking to pull your modifications</a> on the original branch.</p>

    <pre style="margin: 1em 5em;">
jQuery AccessKey Plugin vX.Y.Z
https://github.com/PieroWbmstr/jQuery-AccessKey
Copyleft 2013, Pierre Cassat
    </pre>

    <h3>Warnings</h3>

    <p>When developing with accesskeys, keep in mind that the <em>key codes</em> largely depends on the keyboard and the system that runs your website. To test your thoughts validity, you can use the excellent <a href="http://www.west-wind.com/WestwindWebToolkit/samples/Ajax/html5andCss3/keycodechecker.aspx">JavaScript and jQuery Key Code Checker</a> written by Rick Strahl <span class="note">Rick Strahl's blog can be found at <a href="http://www.west-wind.com/weblog/" title="See online">http://www.west-wind.com/weblog/</a>.</span>.</p>
