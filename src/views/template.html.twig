{% extends "layout.html.twig" %}

{% block title %}{{ page.title }}{% endblock %}

{% block metas %}
{% include DB.getTemplate('metas') %}
{% endblock %}

{% block body_attributes %}data-spy="scroll" data-target="#inpage_menu"{% endblock %}

{% block body %}

    <div class="navbar navbar-inverse navbar-fixed-top">

        <div class="navbar-inner">
{% include DB.getTemplate('demo_page_navbar') %}
        </div>

    </div>

    <div class="container-fluid">
        <div class="row-fluid">

            <!-- column -->
            <div class="span3">
            <nav>
                <div class="well sidebar-nav affix" data-spy="affix-top">
                    <!-- demo menu -->
                    <ul id="navigation_menu" class="nav nav-list" role="navigation">
                        <li><span class="label">Demo Map</span></li>
{% for path, item in page.menu %}
    {% if item.getBasename() == 'index' %}
                        <li><a href="{{ path|getRouteUrl }}">Home</a></li>
    {% endif %}
{% endfor %}
{% for path, item in page.menu %}
    {% if item.getBasename() != 'index' %}
                        <li><a href="{{ path|getRouteUrl }}">{{ item.getHumanReadableFilename() }}</a></li>
    {% endif %}
{% endfor %}
<!--
                        <li><span class="label">Demo Map</span></li>
                        <li><a href="index.html">Homepage</a></li>
                        <li><a href="#">Examples</a></li>
                        <li><a href="#">Documentation</a></li>
                        <li><a href="#">Tests</a></li>
                        <li class="nav-header">Examples</li>
                        <li><a href="demo_html.html">Classic HTML example</a></li>
                        <li><a href="demo_php_standard.php">With PHP standard dir scanning</a></li>
                        <li><a href="demo_php_classes.php">With PHP internal plugin's classes</a></li>
                        <li><a href="demo_interface.php">With PHP plugin's interface</a></li>
                        <li><a href="standalone.html">Standalone (all HTML)</a></li>
                        <li class="nav-header">Documentation</li>
                        <li><a href="test_internal_php.php">PHP internal tools doc</a></li>
-->
                    </ul>

{% if page.blocks.browser_info == true %}
                    <ul id="navigation_menu" class="nav nav-list" role="navigation">
                        <li class="divider"></li>
                        <li style="max-width:200px">
                            <span class="label">Browser Infos</span>
                            <p><small class="muted" id="user_agent" data-insert="user_agent"></small></p>
                        </li>
                    </ul>
{% endif %}
                </div>
            </nav>
            </div>

            <!-- content -->
            <div class="span9">
        
{% include 'ltie7_warning.html.twig' %}

                <header id="top" role="banner">
                <hgroup>
                    <div class="page-header">
                        <h1>{{ package.title }}&nbsp;<small>{{ package.slogan }}</small></h1>
                    </div>
                </hgroup>
{% if page.blocks.header_description == true %}
                <div class="hero-unit">
                    <p>{{ page.header_description }}</p>
                </div>
{% endif %}
                </header>

{% if page.blocks.sources == true or page.blocks.manifest == true or page.blocks.repository == true %}

    <div class="accordion" id="accordion_blocks">

    {% if page.blocks.manifest == true %}
        <div class="accordion-group">
            <div class="accordion-heading">
                <a id="manifest_handler" class="accordion-toggle" href="#manifest_handler" title="Infos extracted from your package version manifest">
                Full package manifest
                </a>
            </div>
            <div id="manifest_collapse" class="accordion-body collapse in">
                <div class="accordion-inner" id="manifest">
                    <ul class="list_infos" data-insert="manifestlist"></ul>
                    <p class="muted credits">Infos extracted from your current package manifest file: <span class="text-warning">{{ manifest_url }}</span>.</p>
                </div>
            </div>
        </div>
    {% endif %}

    {% if page.blocks.sources == true %}
        <div class="accordion-group">
            <div class="accordion-heading">
                <a id="sources_handler" class="accordion-toggle" href="#sources_handler" title="Infos about the package sources">
                Follow sources
                </a>
            </div>
            <div id="sources_collapse" class="accordion-body collapse in">
                <div class="accordion-inner" id="sources">
                    <p>The sources of this package are hosted on <a href="http://github.com">GitHub</a>. To follow sources updates, report a bug or read opened bug tickets and any other information, please see the GitHub website above.</p>
                    <p><a href="{{ package.sources.url }}" class="btn">See online on {{ package.sources.name }} &raquo;</a></p>
                </div>
            </div>
        </div>
    {% endif %}

    {% if page.blocks.repository == true %}
        <div class="accordion-group">
            <div class="accordion-heading">
                <a id="github_handler" class="accordion-toggle" href="#github_handler" title="Infos extracted from the repository on GitHub.com">
                Sources repository current infos
                </a>
            </div>
            <div id="github_collapse" class="accordion-body collapse in">
                <div class="accordion-inner" id="github">
                    <strong>Last commits</strong>
                    <ul id="commits_list" data-insert="repo_commitslist"></ul>
                    <strong>Last bugs</strong>
                    <ul id="bugs_list" data-insert="repo_bugslist"></ul>
                    <p class="muted credits">Infos requested to the repository on GitHub.com: <span class="text-warning">{{ package.sources.url }}</span>.</p>
                </div>
            </div>
        </div>
    {% endif %}

    </div>
{% endif %}

{% for section in page.sections_contents %}
                <section>
    {{ section|raw }}
                </section>
{% endfor %}

                <hr>
                <footer class="footnotes" role="contentinfo">
                    <div id="footnotes" style="display:none">
                        <h4>NOTES:</h4>
                        <ol id="footnotes_list"></ol>
                    </div>
                </footer>

                <footer class="footnotes" role="contentinfo">
                    <div id="glossaries" style="display:none">
                        <h4>GLOSSARY:</h4>
                        <ol id="glossaries_list"></ol>
                    </div>
                </footer>

                <footer class="footnotes" role="contentinfo">
                    <div id="todos" style="display:none">
                        <h4>TODOS:</h4>
                        <ol id="todos_list"></ol>
                    </div>
                </footer>

                <footer class="footnotes" role="contentinfo">
                    <div class="well well-small">
                        <p class="credits">Last update of this content: <time datetime="{{ page.update.format('Y-m-d') }}" title="{{ page.update.format('c') }}">
                            {{- page.update.format('M j, Y') -}}
                        </time>.</p>
                    </div>
                </footer>

            </div>
        </div>

{% include DB.getTemplate('footer') %}

    </div>

{% endblock %}

{% block scripts %}
{{ parent() }}
<script src="{{ vendor_assets }}jquery/jquery.highlight.js"></script>
<script src="{{ vendor_assets }}jquery/jquery.tablesorter.min.js"></script>
<script>
$(function() {
    initBacklinks();
    activateMenuItem();
    getToHash();
    buildFootNotes();
    buildGlossaryNotes();
    buildTodoNotes();
{% if page.blocks.browser_info == true %}
    $("#user_agent").html( navigator.userAgent );
{% endif %}
    initHighlighted('pre.code');
    initTablesorter('table.tablesorter');
    initInpageNavigation();
});
</script>
<script id="js_code">
$(function() {

{% if page.blocks.manifest == true %}
    writeManifestInfos( '{{ manifest_url }}' );
{% endif %}

{% if page.blocks.repository == true %}
    writeRepoInfos( '{{ package.sources.url|slashDirname }}' );
{% endif %}

{% if page.blocks.sources == true %}
    initCollapseHandler( 'sources' );
{% endif %}

});
</script>
{% endblock %}
